<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect Feed</title>
    <link rel="shortcut icon" href="https://i.postimg.cc/4NF7VSMd/connectfeed.png" type="image/x-icon">

    <style>
        :root {
            --primary: #4f21c7;
            --secondary: #f1f1f1;
            --text: #333;
            --active: #10b981;
            --inactive: #ef4444;
        }



        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(to Right, #f0f4ff, #e0e7ff);

        }

        .mainContainer {
            display: flex;
            flex-direction: row;
            height: 100vh;
            overflow: hidden;

        }


        .sidebar {
            margin-top: 80px;
            width: 200px;
            background-color: #ffffff37;
            padding: 15px;
        }




        .sidebar h2 {
            margin-bottom: 30px;
            text-align: center;
        }

        .sidebar ul {
            list-style: none;
            /* text-align: center; */
        }

        .sidebar ul li {
            margin: 15px 0;
        }

        .sidebar ul li a {
            color: gray;
            text-decoration: none;
        }

        .sidebar ul li a:hover {
            color: #FF6B6B;
        }

        .sidebar-menu a.active {
            background: linear-gradient(90deg, #FF6B6B 14.9%, #FF8E53 84.62%) !important;
            color: white;
            border-radius: 8px;
            padding: 8px;
        }

        .sidebar-menu img {
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }

        .menu-toggle {
            /* box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); */


            background-color: #fff;
            color: #000;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            z-index: 1001;
            /* will be shown on small screens */
        }


        /* Sidebar default styles */
        .sidebar {
            width: 200px;
            background-color: #fff;
            padding: 15px;
            transition: width 0.3s ease, left 0.3s ease;
        }

        /* Collapsed Sidebar (for large screen toggle) */
        .sidebar.collapsed {
            width: 70px;

        }

        .sidebar.collapsed .menu-text {
            display: none;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-menu img {
            width: 30px;
            height: 30px;
            margin-right: 12px;
        }

        .main {
            flex: 1;
            overflow-y: auto;
            margin: 0;
            padding: 20px;
            padding-top: 0;
        }

        /* Base styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ffffff;
            /* box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08); */
            position: fixed;
            width: 100vw;
            top: 0;
            z-index: 1000;
            /* margin-left: -20px; */

            /* border-radius: 30px; */
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .companylogo {
            height: 90px;
            width: auto;
            object-fit: contain;
        }

        .creatorName {
            font-size: 1.1rem;
            font-weight: 500;
            color: #333;
            margin-top: 6rem;
        }

        .profile {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .Creator-profile {
            height: 40px;
            width: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
                height: auto;
                overflow: auto;
            }

            .sidebar {
                position: fixed;
                top: 0;
                /* left: -100%; */
                width: 200px;
                height: 100%;
                z-index: 1000;
                /* background-color: white; */
                transition: left 0.3s ease;
            }

            .sidebar ul li {
                margin: 10px;
            }

            .sidebar.collapsed,
            .sidebar.active {
                display: none;
            }

            .main {
                margin-left: 0px;
                padding-left: 0px;
            }

            .header {
                /* flex-direction: column; */
                align-items: flex-start;
                gap: 12px;
            }

            .profile {
                width: 100%;
                justify-content: space-between;
            }

            .creatorName {
                font-size: 1rem;
            }

            .profile {
                justify-content: flex-end;
            }
        }

        @media (max-width: 480px) {
            .sidebar {
                position: fixed;
                top: 0;
                /* left: -100%; */
                width: 200px;
                height: 100%;
                z-index: 1000;
                /* background-color: white; */
                transition: left 0.3s ease;
            }



            .main {

                padding: 20px;
            }

            .sidebar ul {
                display: flex;
                flex-direction: column;


            }

            .sidebar ul li {
                margin: 5px;
            }

            .creatorName {
                font-size: 0.95rem;
            }

            .companylogo {
                height: 50px;
            }

            .Creator-profile {
                height: 36px;
                width: 36px;
            }

            .profile span {
                font-size: 1.2rem;
            }
        }

        @media (max-width: 1024px) {
            .companylogo {
                padding-left: 20px;
            }
        }

        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                top: 0;
                /* left: -100%; */
                width: 200px;
                height: 100%;
                z-index: 1000;
                /* background-color: white; */
                transition: left 0.3s ease;


            }


            .main {
                padding: 20px;
                /* margin-left: 60px; */

            }

            /* Show sidebar */
            .sidebar.active {
                left: 0;
            }

            /* Optional: If you want small version (like mini menu) */
            .sidebar.collapsed {
                width: 60px;
            }

            .menu-toggle {
                display: block;
            }


            .sidebar.collapsed .sidebar-menu a {
                display: none;
                background: none;

            }

            .sidebar.collapsed,
            .sidebar.active {
                display: none;
            }

        }


        .top-header {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .action-buttons button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .action-buttons button:hover {
            background-color: #3e1aa8;
            transform: translateY(-2px);
        }

        .filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filters select,
        .filters input {
            padding: 8px 12px;
            border-radius: 5px;
            border: 1px solid var(--border);
            background-color: white;
            transition: all 0.3s ease;
        }

        .filters select:focus,
        .filters input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(79, 33, 199, 0.2);
        }

        .tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .tab-button {
            padding: 10px 20px;
            background: transparent;
            border: none;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-right: 5px;
            transition: all 0.3s ease;
            font-weight: 500;
            color: var(--text);
        }

        .tab-button:hover {
            color: var(--primary);
        }

        .tab-button.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }

        .tab-content {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: var(--shadow);
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .summary-boxes {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 7rem;
            margin-bottom: 25px;
        }

        .summary-boxes .box {
            flex: 1 1 200px;
            background: #ffffff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: all 0.3s ease;
            min-width: 180px;
        }

        .summary-boxes .box:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .summary-boxes .box h3 {
            margin-bottom: 10px;
            font-size: 16px;
            color: var(--primary);
        }

        .summary-boxes .box p {
            font-size: 24px;
            font-weight: bold;
            color: var(--text);
        }

        .employee-table-container {
            overflow-x: auto;
            margin-top: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            background-color: white;
            padding: 1px;
        }

        .employee-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
        }

        .employee-table th,
        .employee-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
            font-size: 14px;
        }

        .employee-table th {
            background-color: #4F87BC;
            font-weight: 600;
            color: white;
            cursor: pointer;
            position: relative;
            user-select: none;
        }

        .employee-table th:hover {
            background-color: #3e83c4;
        }

        .employee-table th::after {
            content: "↕";
            position: absolute;
            right: 8px;
            opacity: 0.5;
            font-size: 12px;
        }

        .employee-table th.sorted-asc::after {
            content: "↑";
            opacity: 1;
        }

        .employee-table th.sorted-desc::after {
            content: "↓";
            opacity: 1;
        }

        .avatar {
            border-radius: 50%;
            width: 40px;
            height: 40px;
            object-fit: cover;
        }

        .badge {
            padding: 4px 10px;
            border-radius: 20px;
            color: white;
            font-size: 12px;
            font-weight: 500;
            display: inline-block;
            min-width: 70px;
            text-align: center;
        }

        .badge.active {
            background-color: var(--active);
        }

        .badge.inactive {
            background-color: var(--inactive);
        }

        .badge.pending {
            background-color: #f59e0b;
        }

        .employee-table button {
            padding: 6px 12px;
            margin: 2px;
            font-size: 12px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .employee-table button:hover {
            background-color: #3e1aa8;
            transform: translateY(-1px);
        }

        .employee-table button:active {
            transform: translateY(0);
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            gap: 15px;
        }

        .pagination button {
            padding: 8px 16px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .pagination button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .roles-section {
            margin-top: 20px;
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .roles-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .roles-header h3 {
            color: var(--primary);
        }

        .roles-header button {
            background: var(--primary);
            color: white;
            padding: 8px 14px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .roles-header button:hover {
            background: #3e1aa8;
        }

        .roles-table {
            width: 100%;
            border-collapse: collapse;
        }

        .roles-table th,
        .roles-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .roles-table th {
            background-color: #f3f4f6;
            color: var(--primary);
            font-weight: 600;
        }

        .roles-table button {
            padding: 5px 10px;
            font-size: 12px;
            margin: 2px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .roles-table button:hover {
            background: #3e1aa8;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-content h3 {
            margin-bottom: 15px;
            color: var(--primary);
        }

        .modal-content input,
        .modal-content select {
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid var(--border);
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .modal-content input:focus,
        .modal-content select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(79, 33, 199, 0.2);
        }

        .modal-actions {
            text-align: right;
            margin-top: 20px;
        }

        .modal-actions button {
            margin-left: 10px;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-actions button:first-child {
            background-color: #f1f1f1;
            color: #333;
        }

        .modal-actions button:last-child {
            background-color: var(--primary);
            color: white;
        }

        .modal-actions button:hover {
            opacity: 0.9;
        }

        .file-upload {
            display: block;
            margin: 15px 0;
            font-size: 14px;
        }

        .file-upload input {
            margin-top: 5px;
            width: 100%;
        }

        .status-toggle {
            display: flex;
            align-items: center;
            margin: 15px 0;
            gap: 10px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 42px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            border-radius: 24px;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            border-radius: 50%;
            transition: .4s;
        }

        input:checked+.slider {
            background-color: var(--active);
        }

        input:checked+.slider:before {
            transform: translateX(18px);
        }

        @media (max-width: 768px) {
           

            .top-header {
                flex-direction: column;
            }

            .action-buttons,
            .filters {
                width: 100%;
            }

            .filters select,
            .filters input {
                width: 100%;
            }

            .summary-boxes .box {
                flex: 1 1 100%;
            }
        }

        @media (max-width: 480px) {
            
            .modal-content {
                padding: 15px;
                width: 95%;
            }

            .employee-table th,
            .employee-table td {
                padding: 8px 10px;
                font-size: 12px;
            }

            .employee-table button {
                padding: 4px 8px;
                font-size: 11px;
            }
        }

        .logout {
            text-decoration: none;
            color: #FF6B6B;
        }
    </style>
</head>

<body>
    <div class="header">
        <div class="header-left">
            <button class="menu-toggle" onclick="toggleSidebar()">☰</button>

            <img class="companylogo" src="https://i.postimg.cc/Y2Rmq9zQ/companylogo.webp" alt="">
        </div>


        <div class="profile">

            <img class="Creator-profile" src="https://i.postimg.cc/7hKCBsZK/beneficiary.png" alt="">

            <span>🔔</span>

        </div>
    </div>
    <div class="mainContainer">
        <div class="sidebar" id="sidebar">
            <ul class="sidebar-menu">
                <li><a href="index.html"><img src="https://i.postimg.cc/c4JtKSF2/dashboard.png" alt=""><span
                            class="menu-text">Dashboard</span></a>
                </li>
                <li><a href="earning&payouts.html"><img src="https://i.postimg.cc/QCdCWQJ1/orderlist.png" alt=""><span
                            class="menu-text">Earnings & Payout</span> </a></li>
                <li><a href="creator.html"><img src="https://i.postimg.cc/QCdCWQJ1/orderlist.png" alt=""><span
                            class="menu-text">Creator</span> </a></li>
                <li><a href="orders&products.html"><img src="https://i.postimg.cc/QCdCWQJ1/orderlist.png" alt=""><span
                            class="menu-text">Creator Orders&Product</span> </a></li>
                <li><a href="beneficiary&payment.html"><img src="https://i.postimg.cc/QCdCWQJ1/orderlist.png"
                            alt=""><span class="menu-text">Beneficiary</span> </a></li>

                <li><a href="support&dispute.html"><img src="https://i.postimg.cc/CxX8TQHt/settings-1.png" alt=""><span
                            class="menu-text">Support&Dispute</span> </a></li>
                <li><a href="team&employees.html"><img src="https://i.postimg.cc/CxX8TQHt/settings-1.png" alt=""><span
                            class="menu-text">Team&Employees</span> </a></li>
                <li><a href="setting.html"><img src="https://i.postimg.cc/CxX8TQHt/settings-1.png" alt=""><span
                            class="menu-text">Settings</span> </a></li>
            </ul>
            <a href="" class="logout"><span class="menu-text">Log Out</span></a>

        </div>


        <div class="main">
            <div class="summary-boxes">
                <div class="box" id="totalEmployees">
                    <h3>Total Employees</h3>
                    <p>0</p>
                </div>
                <div class="box" id="activeEmployees">
                    <h3>Active Employees</h3>
                    <p>0</p>
                </div>
                <div class="box" id="inactiveEmployees">
                    <h3>Inactive Employees</h3>
                    <p>0</p>
                </div>
                <div class="box" id="rolesCreated">
                    <h3>Roles Created</h3>
                    <p>0</p>
                </div>
                <div class="box" id="pendingInvites">
                    <h3>Pending Invites</h3>
                    <p>0</p>
                </div>
            </div>

            <div class="top-header">
                <div class="action-buttons">
                    <button onclick="openEmployeeModal()">Add Employee</button>
                    <button onclick="openRoleModal()">Add Role</button>
                    <button onclick="openModal('permissionModal')">Assign Permissions</button>
                </div>
                <div class="filters">
                    <select id="roleFilter">
                        <option value="">Filter by Role</option>
                        <option>Admin</option>
                        <option>Team Lead</option>
                        <option>Employee</option>
                    </select>
                    <select id="departmentFilter">
                        <option value="">Filter by Department</option>
                        <option>HR</option>
                        <option>Engineering</option>
                        <option>Marketing</option>
                    </select>
                    <select id="statusFilter">
                        <option value="">Filter by Status</option>
                        <option>Active</option>
                        <option>Inactive</option>
                    </select>
                    <input type="text" id="searchInput" placeholder="Search employees...">
                </div>
            </div>

            <div class="tabs">
                <button class="tab-button active" onclick="showTab('employees')">Employees</button>
                <button class="tab-button" onclick="showTab('roles')">Roles & Permissions</button>
            </div>

            <div class="tab-content active" id="employees">
                <div class="employee-table-container">
                    <table class="employee-table">
                        <thead>
                            <tr>
                                <th onclick="sortTable(1)">Photo</th>
                                <th onclick="sortTable(2)">Name</th>
                                <th onclick="sortTable(3)">Email</th>
                                <th onclick="sortTable(4)">Phone</th>
                                <th onclick="sortTable(5)">Role</th>
                                <th onclick="sortTable(6)">Department</th>
                                <th onclick="sortTable(7)">Status</th>
                                <th onclick="sortTable(8)">Last Login</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="employeeTableBody">
                            <!-- Employee data will be loaded here -->
                        </tbody>
                    </table>
                    <div class="pagination">
                        <button id="prevPage">Previous</button>
                        <span id="pageInfo">Page 1 of 1</span>
                        <button id="nextPage">Next</button>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="roles">
                <div class="roles-section">
                    <div class="roles-header">
                        <h3>Roles & Permissions</h3>
                        <button onclick="openRoleModal()">Create New Role</button>
                    </div>
                    <table class="roles-table">
                        <thead>
                            <tr>
                                <th>Role</th>
                                <th>Permissions</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="rolesBody">
                            <!-- Roles data will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Employee Modal -->
            <div class="modal" id="employeeModal">
                <div class="modal-content">
                    <h3 id="modalTitle">Add Employee</h3>
                    <input type="text" id="empName" placeholder="Full Name" required>
                    <input type="email" id="empEmail" placeholder="Email" required>
                    <input type="text" id="empPhone" placeholder="Phone Number">
                    <select id="empDepartment">
                        <option value="">Select Department</option>
                        <option>HR</option>
                        <option>Engineering</option>
                        <option>Marketing</option>
                        <option>Sales</option>
                    </select>
                    <select id="empRole" required>
                        <option value="">Select Role</option>
                        <option>Admin</option>
                        <option>Manager</option>
                        <option>Employee</option>
                    </select>
                    <label class="file-upload">
                        <span>Upload Profile Image</span>
                        <input type="file" id="empImage" accept="image/*">
                    </label>
                    <div class="status-toggle">
                        <label>Status:</label>
                        <label class="switch">
                            <input type="checkbox" id="empStatus" checked>
                            <span class="slider round"></span>
                        </label>
                        <span id="statusText">Active</span>
                    </div>
                    <div class="modal-actions">
                        <button onclick="closeModal('employeeModal')">Cancel</button>
                        <button onclick="saveEmployee()">Save</button>
                    </div>
                </div>
            </div>

            <!-- Role Modal -->
            <div class="modal" id="roleModal">
                <div class="modal-content">
                    <h3>Create / Edit Role</h3>
                    <input type="text" id="roleName" placeholder="Role Name">
                    <label><input type="checkbox" value="View"> View</label>
                    <label><input type="checkbox" value="Edit"> Edit</label>
                    <label><input type="checkbox" value="Delete"> Delete</label>
                    <label><input type="checkbox" value="Manage"> Manage</label>
                    <div class="modal-actions">
                        <button onclick="closeModal('roleModal')">Cancel</button>
                        <button onclick="saveRole()">Save</button>
                    </div>
                </div>
            </div>

            <!-- Permission Modal -->
            <div class="modal" id="permissionModal">
                <div class="modal-content">
                    <h3>Assign Permissions</h3>
                    <select id="permissionRoleSelect">
                        <option>Select Role</option>
                        <option>Admin</option>
                        <option>Team Lead</option>
                        <option>Employee</option>
                    </select>
                    <input type="text" id="permissionName" placeholder="Permission Name">
                    <div class="modal-actions">
                        <button onclick="closeModal('permissionModal')">Cancel</button>
                        <button onclick="assignPermission()">Assign</button>
                    </div>
                </div>
            </div>
        </div>


    </div>
    </div>


    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const links = document.querySelectorAll('.sidebar-menu a');
            const currentPage = window.location.pathname.split('/').pop().replace('.html', '');

            links.forEach(link => {
                const href = link.getAttribute('href');
                const page = href?.split('/').pop()?.replace('.html', '');
                if (page === currentPage) {
                    link.classList.add('active');
                }
            });

            // Sidebar toggle logic
            document.addEventListener('DOMContentLoaded', () => {
                const toggleBtn = document.querySelector('.menu-toggle');
                const sidebar = document.getElementById('sidebar');

                toggleBtn.addEventListener('click', () => {
                    sidebar.classList.toggle('collapsed');
                    if (window.innerWidth <= 1024) {
                        sidebar.classList.toggle('active');
                    }
                });
            });





        });



        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('collapsed');

            if (window.innerWidth <= 1024) {
                sidebar.classList.toggle('active');
            }
        }

        // Sample data for employees
        const employees = [
            {
                id: 1,
                name: "Harshit",
                email: "harshitraj072003@example.com",
                phone: "+91 9308561800",
                role: "Admin",
                department: "Engineering",
                status: "Active",
                lastLogin: "2025-07-28 10:30 AM",
                image: "https://i.pravatar.cc/40?img=1"
            },
            {
                id: 2,
                name: "Jane Smith",
                email: "jane@example.com",
                phone: "+91 8765432109",
                role: "HR",
                department: "HR",
                status: "Active",
                lastLogin: "2025-07-27 09:15 AM",
                image: "https://i.pravatar.cc/40?img=2"
            },
            {
                id: 3,
                name: "Robert Johnson",
                email: "robert@example.com",
                phone: "+91 7654321098",
                role: "Developer",
                department: "Engineering",
                status: "Active",
                lastLogin: "2025-07-26 04:45 PM",
                image: "https://i.pravatar.cc/40?img=3"
            },
            {
                id: 4,
                name: "Emily Davis",
                email: "emily@example.com",
                phone: "+91 6543210987",
                role: "Designer",
                department: "Design",
                status: "Inactive",
                lastLogin: "2025-07-20 11:20 AM",
                image: "https://i.pravatar.cc/40?img=4"
            },
            {
                id: 5,
                name: "Michael Wilson",
                email: "michael@example.com",
                phone: "+91 5432109876",
                role: "Sales Executive",
                department: "Sales",
                status: "Active",
                lastLogin: "2025-07-27 03:10 PM",
                image: "https://i.pravatar.cc/40?img=5"
            },
            {
                id: 6,
                name: "Sarah Brown",
                email: "sarah@example.com",
                phone: "+91 4321098765",
                role: "Content Writer",
                department: "Marketing",
                status: "Active",
                lastLogin: "2025-07-27 01:45 PM",
                image: "https://i.pravatar.cc/40?img=6"
            },
            {
                id: 7,
                name: "David Taylor",
                email: "david@example.com",
                phone: "+91 3210987654",
                role: "Team Lead",
                department: "Engineering",
                status: "Active",
                lastLogin: "2025-07-27 09:30 AM",
                image: "https://i.pravatar.cc/40?img=7"
            },
            {
                id: 8,
                name: "Jessica Martinez",
                email: "jessica@example.com",
                phone: "+91 2109876543",
                role: "Accountant",
                department: "Finance",
                status: "Inactive",
                lastLogin: "2025-07-15 10:15 AM",
                image: "https://i.pravatar.cc/40?img=8"
            },
            {
                id: 9,
                name: "Daniel Anderson",
                email: "daniel@example.com",
                phone: "+91 1098765432",
                role: "Admin",
                department: "Administration",
                status: "Active",
                lastLogin: "2025-07-27 08:00 AM",
                image: "https://i.pravatar.cc/40?img=9"
            },
            {
                id: 10,
                name: "Lisa Thomas",
                email: "lisa@example.com",
                phone: "+91 9876543210",
                role: "Support",
                department: "Customer Service",
                status: "Active",
                lastLogin: "2025-07-27 02:30 PM",
                image: "https://i.pravatar.cc/40?img=10"
            }
        ];

        // Sample data for roles
        const roles = [
            {
                name: "Super Admin",
                permissions: "View, Edit, Delete, Manage"
            },
            {
                name: "HR",
                permissions: "View, Edit"
            },
            {
                name: "Manager",
                permissions: "View, Edit, Manage"
            },
            {
                name: "Employee",
                permissions: "View"
            }
        ];

        // DOM elements
        const employeeTableBody = document.getElementById('employeeTableBody');
        const rolesBody = document.getElementById('rolesBody');
        const totalEmployeesBox = document.getElementById('totalEmployees').querySelector('p');
        const activeEmployeesBox = document.getElementById('activeEmployees').querySelector('p');
        const inactiveEmployeesBox = document.getElementById('inactiveEmployees').querySelector('p');
        const rolesCreatedBox = document.getElementById('rolesCreated').querySelector('p');
        const pendingInvitesBox = document.getElementById('pendingInvites').querySelector('p');
        const searchInput = document.getElementById('searchInput');
        const roleFilter = document.getElementById('roleFilter');
        const departmentFilter = document.getElementById('departmentFilter');
        const statusFilter = document.getElementById('statusFilter');
        const prevPageBtn = document.getElementById('prevPage');
        const nextPageBtn = document.getElementById('nextPage');
        const pageInfo = document.getElementById('pageInfo');

        // Pagination variables
        let currentPage = 1;
        const rowsPerPage = 5;
        let filteredEmployees = [...employees];
        let sortColumn = null;
        let sortDirection = 1; // 1 for ascending, -1 for descending

        // Initialize the application
        function init() {
            loadEmployees();
            loadRoles();
            updateSummaryBoxes();
            setupEventListeners();
            highlightActiveMenu();
        }

        // Load employees into the table
        function loadEmployees() {
            employeeTableBody.innerHTML = '';

            const start = (currentPage - 1) * rowsPerPage;
            const end = start + rowsPerPage;
            const paginatedEmployees = filteredEmployees.slice(start, end);

            if (paginatedEmployees.length === 0) {
                employeeTableBody.innerHTML = '<tr><td colspan="9" style="text-align: center;">No employees found</td></tr>';
                return;
            }

            paginatedEmployees.forEach(employee => {
                const row = document.createElement('tr');
                row.innerHTML = `
            <td><img src="${employee.image}" class="avatar" alt="Profile" /></td>
            <td>${employee.name}</td>
            <td>${employee.email}</td>
            <td>${employee.phone}</td>
            <td>${employee.role}</td>
            <td>${employee.department}</td>
            <td><span class="badge ${employee.status.toLowerCase()}">${employee.status}</span></td>
            <td>${employee.lastLogin}</td>
            <td>
                <button onclick="viewEmployee(${employee.id})">View</button>
                <button onclick="editEmployee(${employee.id})">Edit</button>
                <button onclick="toggleEmployeeStatus(${employee.id})">${employee.status === 'Active' ? 'Deactivate' : 'Activate'}</button>
                <button onclick="deleteEmployee(${employee.id})">Delete</button>
                <button onclick="resetPassword(${employee.id})">Reset Password</button>
            </td>
        `;
                employeeTableBody.appendChild(row);
            });

            updatePagination();
        }

        // Load roles into the table
        function loadRoles() {
            rolesBody.innerHTML = '';

            if (roles.length === 0) {
                rolesBody.innerHTML = '<tr><td colspan="3" style="text-align: center;">No roles created yet</td></tr>';
                return;
            }

            roles.forEach(role => {
                const row = document.createElement('tr');
                row.innerHTML = `
            <td>${role.name}</td>
            <td>${role.permissions}</td>
            <td>
                <button onclick="editRole('${role.name}')">Edit</button>
                <button onclick="assignPermissions('${role.name}')">Assign</button>
            </td>
        `;
                rolesBody.appendChild(row);
            });
        }

        // Update summary boxes with counts
        function updateSummaryBoxes() {
            const total = employees.length;
            const active = employees.filter(e => e.status === 'Active').length;
            const inactive = employees.filter(e => e.status === 'Inactive').length;
            const roleCount = roles.length;
            const pending = 3; // Hardcoded for demo

            totalEmployeesBox.textContent = total;
            activeEmployeesBox.textContent = active;
            inactiveEmployeesBox.textContent = inactive;
            rolesCreatedBox.textContent = roleCount;
            pendingInvitesBox.textContent = pending;
        }

        // Setup event listeners
        function setupEventListeners() {
            // Search functionality
            searchInput.addEventListener('input', () => {
                filterEmployees();
            });

            // Filter functionality
            roleFilter.addEventListener('change', filterEmployees);
            departmentFilter.addEventListener('change', filterEmployees);
            statusFilter.addEventListener('change', filterEmployees);

            // Pagination
            prevPageBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    loadEmployees();
                }
            });

            nextPageBtn.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredEmployees.length / rowsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    loadEmployees();
                }
            });

            // Status toggle in modal
            document.getElementById('empStatus').addEventListener('change', function () {
                document.getElementById('statusText').textContent = this.checked ? 'Active' : 'Inactive';
            });
        }

        // Filter employees based on search and filters
        function filterEmployees() {
            const searchTerm = searchInput.value.toLowerCase();
            const roleFilterValue = roleFilter.value.toLowerCase();
            const departmentFilterValue = departmentFilter.value.toLowerCase();
            const statusFilterValue = statusFilter.value.toLowerCase();

            filteredEmployees = employees.filter(employee => {
                const matchesSearch =
                    employee.name.toLowerCase().includes(searchTerm) ||
                    employee.email.toLowerCase().includes(searchTerm) ||
                    employee.phone.toLowerCase().includes(searchTerm);

                const matchesRole = roleFilterValue === '' ||
                    employee.role.toLowerCase().includes(roleFilterValue);

                const matchesDepartment = departmentFilterValue === '' ||
                    employee.department.toLowerCase().includes(departmentFilterValue);

                const matchesStatus = statusFilterValue === '' ||
                    employee.status.toLowerCase().includes(statusFilterValue);

                return matchesSearch && matchesRole && matchesDepartment && matchesStatus;
            });

            currentPage = 1;
            loadEmployees();
        }

        // Sort table by column
        function sortTable(columnIndex) {
            const headers = document.querySelectorAll('.employee-table th');
            headers.forEach((header, index) => {
                if (index !== columnIndex - 1) {
                    header.classList.remove('sorted-asc', 'sorted-desc');
                }
            });

            const header = headers[columnIndex - 1];
            if (sortColumn === columnIndex) {
                sortDirection *= -1;
            } else {
                sortColumn = columnIndex;
                sortDirection = 1;
            }

            header.classList.toggle('sorted-asc', sortDirection === 1);
            header.classList.toggle('sorted-desc', sortDirection === -1);

            filteredEmployees.sort((a, b) => {
                let valueA, valueB;

                switch (columnIndex) {
                    case 1: // Photo - sort by name
                        valueA = a.name;
                        valueB = b.name;
                        break;
                    case 2: // Name
                        valueA = a.name;
                        valueB = b.name;
                        break;
                    case 3: // Email
                        valueA = a.email;
                        valueB = b.email;
                        break;
                    case 4: // Phone
                        valueA = a.phone;
                        valueB = b.phone;
                        break;
                    case 5: // Role
                        valueA = a.role;
                        valueB = b.role;
                        break;
                    case 6: // Department
                        valueA = a.department;
                        valueB = b.department;
                        break;
                    case 7: // Status
                        valueA = a.status;
                        valueB = b.status;
                        break;
                    case 8: // Last Login
                        valueA = new Date(a.lastLogin);
                        valueB = new Date(b.lastLogin);
                        break;
                    default:
                        return 0;
                }

                if (valueA < valueB) return -1 * sortDirection;
                if (valueA > valueB) return 1 * sortDirection;
                return 0;
            });

            loadEmployees();
        }

        // Update pagination controls
        function updatePagination() {
            const totalPages = Math.ceil(filteredEmployees.length / rowsPerPage);

            prevPageBtn.disabled = currentPage === 1;
            nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
            pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
        }

        // View employee details
        function viewEmployee(id) {
            const employee = employees.find(e => e.id === id);
            if (employee) {
                alert(`Viewing details for ${employee.name}\nEmail: ${employee.email}\nPhone: ${employee.phone}\nRole: ${employee.role}\nDepartment: ${employee.department}\nStatus: ${employee.status}`);
            }
        }

        // Edit employee
        function editEmployee(id) {
            const employee = employees.find(e => e.id === id);
            if (employee) {
                document.getElementById('modalTitle').textContent = 'Edit Employee';
                document.getElementById('empName').value = employee.name;
                document.getElementById('empEmail').value = employee.email;
                document.getElementById('empPhone').value = employee.phone;
                document.getElementById('empDepartment').value = employee.department;
                document.getElementById('empRole').value = employee.role;
                document.getElementById('empStatus').checked = employee.status === 'Active';
                document.getElementById('statusText').textContent = employee.status;

                // Store the employee ID in the modal for reference when saving
                document.getElementById('employeeModal').dataset.employeeId = id;

                openModal('employeeModal');
            }
        }

        // Toggle employee status
        function toggleEmployeeStatus(id) {
            const employee = employees.find(e => e.id === id);
            if (employee) {
                employee.status = employee.status === 'Active' ? 'Inactive' : 'Active';
                loadEmployees();
                updateSummaryBoxes();
                alert(`Employee ${employee.name} is now ${employee.status}`);
            }
        }

        // Delete employee
        function deleteEmployee(id) {
            if (confirm('Are you sure you want to delete this employee?')) {
                const index = employees.findIndex(e => e.id === id);
                if (index !== -1) {
                    employees.splice(index, 1);
                    filterEmployees(); // Refresh the filtered list
                    updateSummaryBoxes();
                    alert('Employee deleted successfully');
                }
            }
        }

        // Reset password
        function resetPassword(id) {
            const employee = employees.find(e => e.id === id);
            if (employee) {
                alert(`Password reset email sent to ${employee.email}`);
            }
        }

        // Open modal
        function openModal(id) {
            document.getElementById(id).classList.add('active');
        }

        // Close modal
        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // Save employee (add or edit)
        function saveEmployee() {
            const name = document.getElementById('empName').value.trim();
            const email = document.getElementById('empEmail').value.trim();
            const phone = document.getElementById('empPhone').value.trim();
            const department = document.getElementById('empDepartment').value;
            const role = document.getElementById('empRole').value;
            const status = document.getElementById('empStatus').checked ? 'Active' : 'Inactive';
            const imageInput = document.getElementById('empImage');
            const imageUrl = imageInput.files[0] ? URL.createObjectURL(imageInput.files[0]) : 'https://i.pravatar.cc/40';

            if (!name || !email || !role) {
                alert('Please fill in all required fields');
                return;
            }

            const employeeId = document.getElementById('employeeModal').dataset.employeeId;

            if (employeeId) {
                // Edit existing employee
                const employee = employees.find(e => e.id === parseInt(employeeId));
                if (employee) {
                    employee.name = name;
                    employee.email = email;
                    employee.phone = phone;
                    employee.department = department;
                    employee.role = role;
                    employee.status = status;
                    employee.image = imageUrl;
                }
            } else {
                // Add new employee
                const newEmployee = {
                    id: employees.length > 0 ? Math.max(...employees.map(e => e.id)) + 1 : 1,
                    name,
                    email,
                    phone,
                    role,
                    department,
                    status,
                    lastLogin: new Date().toLocaleString(),
                    image: imageUrl
                };
                employees.push(newEmployee);
            }

            closeModal('employeeModal');
            filterEmployees();
            updateSummaryBoxes();
            clearEmployeeForm();
        }

        // Clear employee form
        function clearEmployeeForm() {
            document.getElementById('empName').value = '';
            document.getElementById('empEmail').value = '';
            document.getElementById('empPhone').value = '';
            document.getElementById('empDepartment').value = '';
            document.getElementById('empRole').value = '';
            document.getElementById('empImage').value = '';
            document.getElementById('empStatus').checked = true;
            document.getElementById('statusText').textContent = 'Active';
            delete document.getElementById('employeeModal').dataset.employeeId;
        }

        // Open employee modal for adding new employee
        function openEmployeeModal() {
            document.getElementById('modalTitle').textContent = 'Add Employee';
            clearEmployeeForm();
            openModal('employeeModal');
        }

        // Open role modal
        function openRoleModal(roleName = '') {
            const modal = document.getElementById('roleModal');
            const nameInput = document.getElementById('roleName');
            const checkboxes = document.querySelectorAll('#roleModal input[type="checkbox"]');

            if (roleName) {
                // Edit mode
                document.querySelector('#roleModal h3').textContent = 'Edit Role';
                const role = roles.find(r => r.name === roleName);
                if (role) {
                    nameInput.value = role.name;
                    const permissions = role.permissions.split(', ');
                    checkboxes.forEach(checkbox => {
                        checkbox.checked = permissions.includes(checkbox.value);
                    });
                }
            } else {
                // Add mode
                document.querySelector('#roleModal h3').textContent = 'Create New Role';
                nameInput.value = '';
                checkboxes.forEach(checkbox => {
                    checkbox.checked = false;
                });
            }

            modal.dataset.roleName = roleName;
            openModal('roleModal');
        }

        // Save role
        function saveRole() {
            const nameInput = document.getElementById('roleName');
            const roleName = nameInput.value.trim();
            const checkboxes = document.querySelectorAll('#roleModal input[type="checkbox"]:checked');
            const permissions = Array.from(checkboxes).map(cb => cb.value).join(', ');

            if (!roleName) {
                alert('Please enter a role name');
                return;
            }

            const modal = document.getElementById('roleModal');
            const existingRoleName = modal.dataset.roleName;

            if (existingRoleName) {
                // Update existing role
                const role = roles.find(r => r.name === existingRoleName);
                if (role) {
                    role.name = roleName;
                    role.permissions = permissions;
                }
            } else {
                // Add new role
                roles.push({
                    name: roleName,
                    permissions
                });
            }

            closeModal('roleModal');
            loadRoles();
            updateSummaryBoxes();
        }

        // Edit role
        function editRole(roleName) {
            openRoleModal(roleName);
        }

        // Assign permissions
        function assignPermissions(roleName) {
            document.getElementById('permissionRoleSelect').value = roleName || '';
            openModal('permissionModal');
        }

        // Assign permission to role
        function assignPermission() {
            const roleName = document.getElementById('permissionRoleSelect').value;
            const permissionName = document.getElementById('permissionName').value.trim();

            if (!roleName || !permissionName) {
                alert('Please select a role and enter a permission name');
                return;
            }

            const role = roles.find(r => r.name === roleName);
            if (role) {
                if (!role.permissions.includes(permissionName)) {
                    role.permissions = role.permissions ? `${role.permissions}, ${permissionName}` : permissionName;
                    loadRoles();
                    closeModal('permissionModal');
                    document.getElementById('permissionName').value = '';
                } else {
                    alert('This permission already exists for the selected role');
                }
            }
        }

        // Toggle sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('collapsed');

            if (window.innerWidth <= 768) {
                sidebar.classList.toggle('active');
            }
        }

        // Show tab content
        function showTab(id) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));

            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }

        // Highlight active menu item
        function highlightActiveMenu() {
            const links = document.querySelectorAll('.sidebar-menu a');
            const currentPage = window.location.pathname.split('/').pop().replace('.html', '');

            links.forEach(link => {
                const href = link.getAttribute('href');
                const page = href?.split('/').pop()?.replace('.html', '');
                if (page === currentPage) {
                    link.classList.add('active');
                }
            });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>

</body>

</html>